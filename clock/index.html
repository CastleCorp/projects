<!-- TODO:
	* Make background cinemagraph based on time of day
	* Add more cinemagraphs
-->

<html>
<head>
	<title>Zen Clock</title>
	
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv=Content-Type content=text/html>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Meditation Clock">
	<meta name="author" content="Designed by Parker Thomas">
	<meta name="robot" content="index,follow">
	<meta name="copyright" content="Â© 2015 All Rights Reserved.">
	<meta name="keywords" content="meditation, clock, zen">

	<link rel="shortcut icon" href="./img/favicon.ico">
</head>

<body style="margin:0; border:none; padding:0;">
	<style type="text/css">
	#loading {
		position: absolute;
		width: 100%;
		height: 100%;
		background: url('./img/loading.gif') no-repeat center center;
	}
	</style>
	<div id="loading"></div>
	<img id="bg" src="" style="width:100%; height:100%;" class="cover"/>
	<style type="text/css">
	body {
		background-color: #80d4ea;
	}
	#clock {
		height: 100px;
		width: 800px;
		margin: auto;
		position: absolute;
		top: 0; left: 0; bottom: 0; right: 0;
		font-family: helvetica neue, helvetica, arial;
		font-weight: bold;
		text-align: center;
		color: white;
		font-size: 100px;
	}
	</style>

	<div id="clock"></div>

</body>

<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript">
$(window).ready(function() {
	$('#loading').hide();
});

$(document).ready(function() {
	function displayTime() {
		var currentTime = new Date();

		var hours = currentTime.getHours();
		var minutes = currentTime.getMinutes();
		var seconds = currentTime.getSeconds();
		var meridiem = "AM";

		if (seconds < 10) {
			seconds = "0" + seconds;
		};
		if (minutes < 10) {
			minutes = "0" + minutes;
		};
		if (hours < 10) {
			hours = "0" + hours;
		};
		if (hours > 12) {
			hours = hours - 12;
			meridiem = "PM";
		};
		if (hours === 0) {
			hours = 12;
		};

		var clockDiv = document.getElementById('clock');

		clockDiv.innerText = hours + ":" + minutes + ":" + seconds + " " + meridiem;
	}

	displayTime();

	setInterval(displayTime, 1000);

	function setBackground() {
		var i = Math.floor((Math.random() * 6) + 1);
		document.getElementById('bg').src = "img/" + i + ".gif";
	}

	setBackground();
	setInterval(setBackground, 900000);
});
</script>
</html>
